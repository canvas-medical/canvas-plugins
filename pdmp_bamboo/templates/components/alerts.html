<!-- PDMP Alerts Component -->
<section class="section alerts pdmp-section"
         data-component="alerts-component"
         data-component-type="clinical-alerts"
         aria-label="Safety flags and notes">
    <div class="alerts pdmp-alert-group">
        {% if red_flags %}
        <div class="alert-group pdmp-alert-group"
             data-component="red-flags-section"
             role="group"
             aria-label="Red flags">
            <div class="alert-title pdmp-title">Red Flag</div>
            <ul class="alert-list pdmp-alert-list pdmp-list-reset">
                {% for flag in red_flags %}
                <li class="alert pdmp-alert pdmp-alert-red"
                    data-component="red-flag-item"
                    data-variant="red">
                    <svg viewBox="0 0 24 24" aria-hidden="true" class="pdmp-svg-icon">
                        <circle cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-width="2"/>
                        <path d="M12 8v4m0 4h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <div>
                        <span data-sev class="pdmp-title">{{ flag.severity }}:</span> {{ flag.message }}
                    </div>
                </li>
                {% endfor %}
            </ul>
        </div>
        {% endif %}

        {% if alerts %}
        <div class="alert-group pdmp-alert-group"
             data-component="alerts-section"
             role="group"
             aria-label="Alerts">
            <div class="alert-title pdmp-title">Alert</div>
            <ul class="alert-list pdmp-alert-list pdmp-list-reset">
                {% for alert in alerts %}
                <li class="alert pdmp-alert pdmp-alert-yellow"
                    data-component="alert-item"
                    data-variant="yellow">
                    <svg viewBox="0 0 24 24" aria-hidden="true" class="pdmp-svg-icon">
                        <path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z" fill="none" stroke="currentColor" stroke-width="2"/>
                        <path d="M12 9v4m0 4h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <div>{{ alert.message }}</div>
                </li>
                {% endfor %}
            </ul>
        </div>
        {% endif %}

        {% if care_notes %}
        <div class="alert-group pdmp-alert-group"
             data-component="care-notes-section"
             role="group"
             aria-label="Care notes">
            <div class="alert-title pdmp-title">Care Note</div>
            <ul class="alert-list pdmp-alert-list pdmp-list-reset">
                {% for note in care_notes %}
                <li class="alert pdmp-alert pdmp-alert-note"
                    data-component="care-note-item"
                    data-variant="note">
                    <svg viewBox="0 0 24 24" aria-hidden="true" class="pdmp-svg-icon">
                        <circle cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-width="2"/>
                        <path d="m9 12 2 2 4-4" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <div>{{ note.message }}</div>
                </li>
                {% endfor %}
            </ul>
        </div>
        {% endif %}
    </div>
</section>

